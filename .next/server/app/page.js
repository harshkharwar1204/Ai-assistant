(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4059:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d}),r(5480),r(2029),r(5866);var n=r(3191),o=r(8716),a=r(7922),s=r.n(a),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5480)),"C:\\Users\\kharw\\OneDrive\\Desktop\\ai-assistant\\src\\app\\page.tsx"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"C:\\Users\\kharw\\OneDrive\\Desktop\\ai-assistant\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],c=["C:\\Users\\kharw\\OneDrive\\Desktop\\ai-assistant\\src\\app\\page.tsx"],p="/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new n.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2192:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},7112:()=>{},2632:(e,t,r)=>{Promise.resolve().then(r.bind(r,4667))},8472:()=>{},1596:(e,t,r)=>{"use strict";r(8472);var n=r(7577),o=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(n),a="undefined"!=typeof process&&process.env&&!0,s=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,r=t.name,n=void 0===r?"stylesheet":r,o=t.optimizeForSpeed,i=void 0===o?a:o;l(s(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",l("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return l(s(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var r=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(n){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,r){t&&l(s(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var o=document.head||document.getElementsByTagName("head")[0];return r?o.insertBefore(n,r):o.appendChild(n),n},function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},c={};function p(e,t){if(!t)return"jsx-"+e;var r=String(t),n=e+r;return c[n]||(c[n]="jsx-"+d(e+"-"+r)),c[n]}function x(e,t){var r=e+(t=t.replace(/\/style/gi,"\\/style"));return c[r]||(c[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[r]}var u=n.createContext(null);u.displayName="StyleSheetContext",o.default.useInsertionEffect||o.default.useLayoutEffect;var g=void 0;function h(e){var t=g||n.useContext(u);return t&&t.add(e),null}h.dynamic=function(e){return e.map(function(e){return p(e[0],e[1])}).join(" ")},t.style=h},7626:(e,t,r)=>{"use strict";e.exports=r(1596).style},4667:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eD});var n=r(326),o=r(7577),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let r=(0,o.forwardRef)(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:d="",children:c,...p},x)=>(0,o.createElement)("svg",{ref:x,...a,width:n,height:n,stroke:r,strokeWidth:l?24*Number(i)/Number(n):i,className:["lucide",`lucide-${s(e)}`,d].join(" "),...p},[...t.map(([e,t])=>(0,o.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r},l=i("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]),d=i("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),c=i("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),p=({missedTasks:e,onRollover:t,onClear:r})=>0===e.length?null:n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",backdropFilter:"blur(5px)",padding:"20px",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"400px",maxHeight:"80vh",overflowY:"auto"},children:[(0,n.jsxs)("div",{style:{textAlign:"center",marginBottom:"20px"},children:[n.jsx("div",{style:{width:"60px",height:"60px",background:"var(--text-color)",color:"var(--bg-color)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:n.jsx(l,{size:30})}),n.jsx("h2",{style:{marginBottom:"8px"},children:"Clean Slate"}),(0,n.jsxs)("p",{style:{color:"var(--text-secondary)"},children:["You have ",e.length," pending tasks from yesterday. What should we do?"]})]}),n.jsx("div",{className:"flex flex-col gap-3",style:{marginBottom:"24px"},children:e.map(e=>n.jsx("div",{style:{padding:"12px",background:"#f8f9fe",borderRadius:"12px",border:"1px solid #eee",fontSize:"14px",fontWeight:500},children:e.title},e.id))}),(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsxs)("button",{onClick:()=>t(e.map(e=>e.id)),style:{width:"100%",padding:"16px",background:"var(--text-color)",color:"var(--bg-color)",border:"none",borderRadius:"16px",fontWeight:600,fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer"},children:["Move to Today ",n.jsx(d,{size:18})]}),(0,n.jsxs)("button",{onClick:()=>r(e.map(e=>e.id)),style:{width:"100%",padding:"16px",background:"transparent",color:"var(--danger-color)",border:"1px solid var(--danger-color)",borderRadius:"16px",fontWeight:600,fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer"},children:["Clear All ",n.jsx(c,{size:18})]})]})]})}),x={recordCompletion:e=>{},getSuggestions:()=>[]},u=()=>"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),g=e=>e.toISOString().split("T")[0],h=(0,o.createContext)(void 0),y=({children:e})=>{let[t,r]=(0,o.useState)(()=>[]),[a,s]=(0,o.useState)([]),[i,l]=(0,o.useState)(!1),[d,c]=(0,o.useState)(null);(0,o.useEffect)(()=>{localStorage.setItem("life-os-tasks",JSON.stringify(t))},[t]),(0,o.useEffect)(()=>{let e=new Date().setHours(0,0,0,0),r=t.filter(t=>{let r=new Date(t.scheduledDate||t.createdAt).setHours(0,0,0,0);return"pending"===t.status&&r<e});r.length>0&&s(r)},[]),(0,o.useEffect)(()=>{let e=setInterval(()=>{let e=new Date;t.forEach(t=>{if("pending"===t.status&&t.dueTime){let r=new Date(t.dueTime);r<=e&&r.getTime()>e.getTime()-6e4&&"granted"===Notification.permission&&new Notification("Task Due!",{body:`It's time for: ${t.title}`,icon:"/icon-192x192.png"})}})},6e4);return()=>clearInterval(e)},[t]);let y=async()=>{l(!0),c(null);try{let e=await fetch("/api/tasks/sync");if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to sync reminders")}let t=await e.json();r(e=>{let r=new Set(e.map(e=>e.title.toLowerCase())),n=t.filter(e=>!r.has(e.title.toLowerCase()));return[...e,...n]})}catch(e){c(e.message||"Sync failed")}finally{l(!1)}};return(0,n.jsxs)(h.Provider,{value:{tasks:t,addTask:(e,t,n)=>{let o={id:u(),title:e,status:"pending",dueTime:n,scheduledDate:t||g(new Date),createdAt:new Date().toISOString()};r(e=>[...e,o])},toggleTaskCompletion:e=>{r(t=>t.map(t=>{if(t.id===e){let e="completed"===t.status?"pending":"completed";return"completed"===e&&x.recordCompletion(t.title),{...t,status:e}}return t}))},deleteTask:e=>{r(t=>t.filter(t=>t.id!==e))},updateTask:(e,t)=>{r(r=>r.map(r=>r.id===e?{...r,...t}:r))},requestNotificationPermission:()=>{"Notification"in window&&Notification.requestPermission()},syncReminders:y,isSyncing:i,syncError:d,clearTasksByDate:e=>{r(t=>t.filter(t=>(t.scheduledDate||g(new Date(t.createdAt)))!==e))}},children:[a.length>0&&n.jsx(p,{missedTasks:a,onRollover:e=>{r(t=>t.map(t=>e.includes(t.id)?{...t,createdAt:new Date().toISOString()}:t)),s([])},onClear:e=>{r(t=>t.filter(t=>!e.includes(t.id))),s([])}}),e]})},f=()=>{let e=(0,o.useContext)(h);if(!e)throw Error("useTasks must be used within a TaskProvider");return e},m=(0,o.createContext)(void 0),b=({children:e})=>{let[t,r]=(0,o.useState)(()=>[]),[a,s]=(0,o.useState)(!1),[i,l]=(0,o.useState)(null);(0,o.useEffect)(()=>{localStorage.setItem("life-os-expenses",JSON.stringify(t))},[t]);let d=async()=>{s(!0),l(null);try{let e=await fetch("/api/expenses/sync?group_id=90988419&limit=200");if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to sync Splitwise")}let t=await e.json(),n=new Date,o=n.getMonth(),a=n.getFullYear(),s=t.filter(e=>{let t=new Date(e.date);return t.getMonth()===o&&t.getFullYear()===a});r(e=>{let t=e.filter(e=>!e.note.startsWith("[Splitwise]")),r=s.map(e=>({...e,id:u()}));return[...t,...r]})}catch(e){l(e.message||"Sync failed")}finally{s(!1)}};return n.jsx(m.Provider,{value:{expenses:t,addExpense:e=>{let t={...e,id:u()};r(e=>[...e,t])},updateExpense:(e,t)=>{r(r=>r.map(r=>r.id===e?{...r,...t}:r))},deleteExpense:e=>{r(t=>t.filter(t=>t.id!==e))},getDailyTotal:()=>{let e=new Date().toDateString();return t.filter(t=>new Date(t.date).toDateString()===e).reduce((e,t)=>e+t.amount,0)},getMonthlyTotal:()=>{let e=new Date,r=e.getMonth(),n=e.getFullYear();return t.filter(e=>{let t=new Date(e.date);return t.getMonth()===r&&t.getFullYear()===n}).reduce((e,t)=>e+t.amount,0)},syncSplitwise:d,isSyncing:a,syncError:i,clearAllExpenses:()=>{r([])}},children:e})},v=()=>{let e=(0,o.useContext)(m);if(!e)throw Error("useExpenses must be used within an ExpenseProvider");return e},j=(0,o.createContext)(void 0),k=({children:e})=>{let[t,r]=(0,o.useState)(()=>[]);(0,o.useEffect)(()=>{localStorage.setItem("life-os-grocery",JSON.stringify(t))},[t]);let a=t.filter(e=>"Low"===e.stockLevel||"Out"===e.stockLevel);return n.jsx(j.Provider,{value:{items:t,shoppingList:a,addItem:(e,t)=>{let n={id:u(),name:e,stockLevel:"High",category:t||"Other",isEssential:!1};r(e=>[...e,n])},updateStock:(e,t)=>{r(r=>r.map(r=>r.id===e?{...r,stockLevel:t}:r))},editItem:(e,t)=>{r(r=>r.map(r=>r.id===e?{...r,...t}:r))},deleteItem:e=>{r(t=>t.filter(t=>t.id!==e))},addAiItems:e=>{let n=e.filter(e=>!t.some(t=>t.name.toLowerCase()===e.name.toLowerCase())).map(e=>({...e,id:u(),stockLevel:"Out"}));r(e=>[...e,...n])},clearShoppingList:()=>{r(e=>e.filter(e=>"Low"!==e.stockLevel&&"Out"!==e.stockLevel))},clearPantry:()=>{r([])}},children:e})},S=()=>{let e=(0,o.useContext)(j);if(!e)throw Error("useGrocery must be used within a GroceryProvider");return e},w=(0,o.createContext)(void 0),z=({children:e})=>{let[t,r]=(0,o.useState)(()=>[]);return(0,o.useEffect)(()=>{localStorage.setItem("life-os-habits",JSON.stringify(t))},[t]),n.jsx(w.Provider,{value:{habits:t,addHabit:e=>{let t={id:u(),name:e,streak:0,completedDates:[],archived:!1};r(e=>[...e,t])},toggleHabit:e=>{let t=new Date().toDateString();r(r=>r.map(r=>{if(r.id!==e)return r;let n=r.completedDates.some(e=>new Date(e).toDateString()===t),o=[...r.completedDates],a=r.streak;return n?(o=o.filter(e=>new Date(e).toDateString()!==t),a=Math.max(0,a-1)):(o.push(new Date().toISOString()),a+=1),{...r,completedDates:o,streak:a}}))},updateHabit:(e,t)=>{r(r=>r.map(r=>r.id===e?{...r,...t}:r))},deleteHabit:e=>{r(t=>t.filter(t=>t.id!==e))},deleteAllHabits:()=>{r([])}},children:e})},C=()=>{let e=(0,o.useContext)(w);if(!e)throw Error("useHabits must be used within a HabitProvider");return e},D=i("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),I=i("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),R=i("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),T=i("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),B=i("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),M=i("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),W=i("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),F=i("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),N=i("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),L=e=>{let t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},A=({selectedDate:e,onSelectDate:t,weekOffset:r,onWeekChange:o})=>{let a=new Date,s=L(a),i=new Date(a),l=i.getDay();i.setDate(i.getDate()+(0===l?-6:1-l)+7*r);let d=Array.from({length:7},(t,r)=>{let n=new Date(i);n.setDate(n.getDate()+r);let o=L(n);return{dayLabel:n.toLocaleDateString("en-US",{weekday:"short"}).substring(0,3),date:n.getDate(),key:o,isToday:o===s,isSelected:o===e}}),c=new Date(i),p=new Date(i);p.setDate(p.getDate()+6);let x=c.toLocaleDateString("en-US",{month:"short",year:"numeric"});return(0,n.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsx("button",{onClick:()=>o(r-1),style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",padding:"8px",borderRadius:"8px",display:"flex",alignItems:"center"},children:n.jsx(F,{size:20})}),n.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:0===r?"var(--primary-color)":"var(--text-secondary)",cursor:0!==r?"pointer":"default"},onClick:()=>{0!==r&&(o(0),t(s))},children:0===r?"This Week":x}),n.jsx("button",{onClick:()=>o(r+1),style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",padding:"8px",borderRadius:"8px",display:"flex",alignItems:"center"},children:n.jsx(N,{size:20})})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"6px"},children:d.map(e=>(0,n.jsxs)("div",{onClick:()=>t(e.key),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",padding:"10px 4px",borderRadius:"14px",backgroundColor:e.isSelected?"var(--primary-color)":e.isToday?"rgba(0, 229, 153, 0.1)":"transparent",color:e.isSelected?"#000":e.isToday?"var(--primary-color)":"var(--text-secondary)",border:e.isToday&&!e.isSelected?"1px solid var(--primary-color)":"1px solid transparent",cursor:"pointer",transition:"all 0.2s ease"},children:[n.jsx("span",{style:{fontSize:"11px",fontWeight:500,opacity:.8},children:e.dayLabel}),n.jsx("span",{style:{fontSize:"16px",fontWeight:700},children:e.date})]},e.key))})]})},E=()=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px",paddingTop:"16px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"var(--primary-gradient)",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontWeight:"bold",fontSize:"18px",boxShadow:"0 0 20px rgba(0, 229, 153, 0.3)"},children:"ME"}),(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",fontWeight:500},children:(()=>{let e=new Date().getHours();return e<12?"Good Morning":e<17?"Good Afternoon":"Good Evening"})()}),n.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--text-color)"},children:"Master"})]})]}),P=e=>{let t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},_=({selectedDate:e,onSelectDate:t,weekOffset:r,onWeekChange:a})=>{let{tasks:s,toggleTaskCompletion:i,deleteTask:l,updateTask:d,syncReminders:p,isSyncing:x,syncError:u,clearTasksByDate:g}=f(),[h,y]=(0,o.useState)(null),[m,b]=(0,o.useState)(""),v=s.filter(t=>(t.scheduledDate||P(new Date(t.createdAt)))===e),j=[...v].sort((e,t)=>e.status===t.status?0:"completed"===e.status?1:-1),k=e===P(new Date),S=e>P(new Date),w=(()=>{let t=new Date(e+"T00:00:00");return k?"Today's Schedule":t.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})(),z=e=>{y(e.id),b(e.title)},C=()=>{h&&m.trim()&&(d(h,{title:m}),y(null),b(""))},F=()=>{y(null),b("")};return(0,n.jsxs)("div",{style:{padding:"24px 24px",paddingBottom:"120px",height:"100%",overflowY:"auto"},children:[n.jsx(E,{}),n.jsx(A,{selectedDate:e,onSelectDate:t,weekOffset:r,onWeekChange:a}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("h2",{style:{fontSize:"20px",margin:0},children:w}),k&&(0,n.jsxs)("button",{onClick:()=>p(),disabled:x,style:{background:"transparent",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"var(--text-secondary)",cursor:x?"not-allowed":"pointer"},children:[x?n.jsx(D,{size:12,className:"animate-spin"}):n.jsx(I,{size:12}),x?"Syncing...":"Sync Reminders"]})]}),(0,n.jsxs)("span",{style:{fontSize:"14px",color:"var(--primary-color)",fontWeight:600,background:"rgba(0, 229, 153, 0.1)",padding:"6px 12px",borderRadius:"20px"},children:[v.filter(e=>"pending"===e.status).length," Left"]})]}),v.length>0&&n.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"12px"},children:(0,n.jsxs)("button",{onClick:()=>{confirm(`Are you sure you want to clear all tasks for ${w}? This cannot be undone.`)&&g(e)},style:{background:"rgba(255, 59, 48, 0.1)",color:"#FF3B30",border:"1px solid #FF3B30",padding:"6px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(c,{size:12})," Clear ",w]})}),u&&(0,n.jsxs)("div",{style:{marginBottom:"16px",padding:"8px 12px",background:"rgba(255, 69, 58, 0.1)",border:"1px solid var(--danger-color)",borderRadius:"8px",color:"var(--danger-color)",fontSize:"13px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(R,{size:14}),u]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[j.map((e,t)=>(0,n.jsxs)("div",{className:"card animate-enter",style:{display:"flex",alignItems:"center",gap:"16px",animationDelay:`${.05*t}s`,transition:"all 0.2s ease",opacity:"completed"===e.status?.6:1,transform:"completed"===e.status?"scale(0.98)":"scale(1)",position:"relative"},children:[n.jsx("div",{onClick:()=>i(e.id),style:{minWidth:"24px",height:"24px",borderRadius:"50%",border:"completed"===e.status?"none":"2px solid #333",background:"completed"===e.status?"var(--success-color)":"transparent",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s"},children:"completed"===e.status&&n.jsx(T,{size:14,color:"black",strokeWidth:3})}),(0,n.jsxs)("div",{style:{flex:1},children:[h===e.id?n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("input",{type:"text",value:m,onChange:e=>b(e.target.value),autoFocus:!0,style:{border:"1px solid var(--primary-color)",borderRadius:"8px",padding:"4px 8px",fontSize:"16px",width:"100%",background:"transparent",color:"var(--text-color)"}})}):n.jsx("div",{onClick:()=>z(e),style:{fontSize:"16px",fontWeight:600,textDecoration:"completed"===e.status?"line-through":"none",color:"completed"===e.status?"var(--text-secondary)":"var(--text-color)",cursor:"text"},children:e.title}),e.dueTime&&!h&&n.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginTop:"4px"},children:new Date(e.dueTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),h===e.id?(0,n.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:C,style:{background:"none",border:"none",color:"var(--success-color)",cursor:"pointer",padding:"8px"},children:n.jsx(B,{size:24})}),n.jsx("button",{onClick:F,style:{background:"none",border:"none",color:"var(--danger-color)",cursor:"pointer",padding:"8px"},children:n.jsx(M,{size:24})})]}):(0,n.jsxs)("div",{className:"show-on-hover",style:{display:"flex",gap:"4px"},children:[n.jsx("button",{onClick:t=>{t.stopPropagation(),z(e)},style:{background:"none",border:"none",color:"#888",cursor:"pointer",padding:"8px"},children:n.jsx(W,{size:24})}),n.jsx("button",{onClick:t=>{t.stopPropagation(),confirm("Delete task?")&&l(e.id)},style:{background:"none",border:"none",color:"var(--danger-color)",cursor:"pointer",padding:"8px"},children:n.jsx(c,{size:24})})]})]},e.id)),0===v.length&&(0,n.jsxs)("div",{style:{textAlign:"center",marginTop:"60px",color:"var(--text-secondary)"},children:[n.jsx("div",{style:{fontSize:"40px",marginBottom:"16px",opacity:.5},children:S?"\uD83D\uDCC5":"✨"}),n.jsx("div",{style:{fontWeight:500,fontSize:"18px"},children:S?"No tasks scheduled yet.\nTap + to plan ahead.":k?"All clear for today.\nEnjoy your freedom.":"Nothing was planned for this day."})]})]})]})},H=i("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),O=i("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),q=({selectedDate:e})=>{let[t,r]=(0,o.useState)(""),[a,s]=(0,o.useState)([]),{addTask:i}=f();(0,o.useEffect)(()=>{let e=()=>{s(x.getSuggestions())};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[]);let l=t=>{i(t,e),s(e=>e.filter(e=>e!==t))},d=(()=>{let t=new Date,r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return e===`${r}-${n}-${o}`})(),c=d?"":new Date(e+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,n.jsxs)("div",{style:{position:"fixed",bottom:"130px",left:"20px",right:"90px",zIndex:100},children:[a.length>0&&!t&&(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"12px",overflowX:"auto",paddingBottom:"4px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",color:"var(--primary-color)",fontWeight:600,background:"rgba(0, 229, 153, 0.1)",padding:"6px 10px",borderRadius:"16px",border:"1px solid rgba(0, 229, 153, 0.2)"},children:[n.jsx(H,{size:12})," Suggested"]}),a.map(e=>n.jsx("button",{onClick:()=>l(e),style:{background:"var(--card-bg)",backdropFilter:"blur(10px)",border:"1px solid var(--border-color)",padding:"6px 12px",borderRadius:"16px",fontSize:"13px",fontWeight:500,color:"var(--text-color)",whiteSpace:"nowrap",cursor:"pointer"},children:e},e))]}),(0,n.jsxs)("form",{onSubmit:n=>{n.preventDefault(),t.trim()&&(i(t,e),r(""))},className:"glass-panel",style:{display:"flex",padding:"8px",borderRadius:"24px",boxShadow:"0 8px 32px rgba(0,0,0,0.3)",alignItems:"center"},children:[!d&&c&&n.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"var(--primary-color)",background:"rgba(0, 229, 153, 0.1)",padding:"4px 10px",borderRadius:"12px",marginLeft:"8px",whiteSpace:"nowrap"},children:c}),n.jsx("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:d?"New task...":`Task for ${c}...`,style:{flex:1,border:"none",background:"transparent",padding:"12px 16px",fontSize:"16px",outline:"none",color:"var(--text-color)"}}),n.jsx("button",{type:"submit",style:{width:"48px",height:"48px",borderRadius:"50%",background:"var(--primary-color)",color:"#000",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:n.jsx(O,{size:24})})]})]})},$=i("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Y=()=>{let{expenses:e,addExpense:t,updateExpense:r,deleteExpense:a,getDailyTotal:s,getMonthlyTotal:i,syncSplitwise:l,isSyncing:d,syncError:p,clearAllExpenses:x}=v(),[u,g]=(0,o.useState)(""),[h,y]=(0,o.useState)(""),[f,m]=(0,o.useState)("Food"),[b,j]=(0,o.useState)(null),[k,S]=(0,o.useState)(""),[w,z]=(0,o.useState)(""),[C,R]=(0,o.useState)(0),T=e=>{j(e.id),S(e.amount.toString()),z(e.note)},F=()=>{b&&k&&(r(b,{amount:parseFloat(k),note:w}),j(null),S(""),z(""))};return(0,n.jsxs)("div",{style:{padding:"24px 24px",paddingBottom:"120px",height:"100%",overflowY:"auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[n.jsx("h1",{style:{fontSize:"32px"},children:"Wallet"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[e.length>0&&(0,n.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to delete ALL expenses? This cannot be undone.")&&x()},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"100px",border:"1px solid #FF3B30",background:"rgba(255, 59, 48, 0.1)",color:"#FF3B30",fontWeight:600,fontSize:"14px",cursor:"pointer"},children:[n.jsx(c,{size:16})," Clear All"]}),(0,n.jsxs)("button",{onClick:l,disabled:d,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"100px",border:"1px solid var(--primary-color)",background:"rgba(0, 229, 153, 0.1)",color:"var(--primary-color)",fontWeight:600,fontSize:"14px",cursor:d?"not-allowed":"pointer",opacity:d?.7:1,transition:"all 0.2s"},children:[d?n.jsx(D,{size:16,style:{animation:"spin 1s linear infinite"}}):n.jsx(I,{size:16}),d?"Syncing...":"Sync Splitwise"]})]})]}),p&&n.jsx("div",{style:{padding:"12px 16px",borderRadius:"12px",background:"rgba(255, 69, 58, 0.1)",border:"1px solid var(--danger-color)",color:"var(--danger-color)",fontSize:"14px",marginBottom:"16px"},children:p}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"32px"},children:[n.jsx("div",{className:"card card-highlight",style:{position:"relative",overflow:"hidden",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,n.jsxs)("div",{style:{position:"relative",zIndex:2},children:[n.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"12px",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"1px"},children:"Spent Today"}),(0,n.jsxs)("div",{style:{fontSize:"28px",fontWeight:"bold",color:"var(--text-color)"},children:["₹",s().toFixed(0)]})]})}),(0,n.jsxs)("div",{className:"card",style:{position:"relative",overflow:"hidden",padding:"20px",display:"flex",flexDirection:"column",justifyContent:"center",background:"rgba(255,255,255,0.03)"},children:[(0,n.jsxs)("div",{style:{position:"relative",zIndex:2},children:[n.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"12px",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"1px"},children:"This Month"}),(0,n.jsxs)("div",{style:{fontSize:"28px",fontWeight:"bold",color:"var(--text-color)"},children:["₹",i().toFixed(0)]})]}),n.jsx($,{size:80,color:"var(--primary-color)",strokeWidth:1,style:{position:"absolute",right:-10,bottom:-10,opacity:.1,zIndex:1}})]})]}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u&&(t({amount:parseFloat(u),category:f,note:h||f,date:new Date().toISOString()}),g(""),y(""))},style:{marginBottom:"32px"},children:[n.jsx("h3",{style:{marginBottom:"12px",fontSize:"13px",textTransform:"uppercase",letterSpacing:"1px",color:"var(--text-secondary)"},children:"Log Expense"}),(0,n.jsxs)("div",{className:"card",style:{padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",borderBottom:"1px solid var(--border-color)",paddingBottom:"12px"},children:[n.jsx("span",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--primary-color)"},children:"₹"}),n.jsx("input",{type:"number",value:u,onChange:e=>g(e.target.value),placeholder:"0.00",style:{border:"none",fontSize:"28px",padding:"0 12px",width:"100%",outline:"none",fontWeight:"bold",background:"transparent",color:"var(--text-color)"}})]}),n.jsx("input",{type:"text",value:h,onChange:e=>y(e.target.value),placeholder:"Description (optional)",style:{border:"1px solid var(--border-color)",borderRadius:"12px",padding:"16px",width:"100%",outline:"none",fontSize:"16px",background:"rgba(255,255,255,0.03)",color:"var(--text-color)"}}),n.jsx("div",{style:{display:"flex",gap:"10px",overflowX:"auto",paddingBottom:"4px"},children:["Food","Transport","Shopping","Bills","Other"].map(e=>n.jsx("button",{type:"button",onClick:()=>m(e),style:{padding:"10px 20px",borderRadius:"100px",border:"1px solid",borderColor:f===e?"var(--primary-color)":"var(--border-color)",background:f===e?"rgba(0, 229, 153, 0.1)":"transparent",color:f===e?"var(--primary-color)":"var(--text-secondary)",cursor:"pointer",fontSize:"14px",whiteSpace:"nowrap",transition:"all 0.2s",fontWeight:500},children:e},e))}),(0,n.jsxs)("button",{type:"submit",style:{background:"var(--text-color)",color:"var(--bg-color)",border:"none",borderRadius:"16px",padding:"16px",fontWeight:700,cursor:"pointer",marginTop:"12px",width:"100%",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[n.jsx(O,{size:20})," Add Expense"]})]})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsx("h3",{style:{fontSize:"14px",textTransform:"uppercase",letterSpacing:"1px",color:"var(--text-secondary)"},children:"Recent"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>R(e=>Math.max(0,e-1)),disabled:0===C,style:{background:"none",border:"none",color:0===C?"var(--text-secondary)":"var(--primary-color)",cursor:0===C?"default":"pointer"},children:"Previous"}),n.jsx("span",{style:{color:"var(--text-secondary)"},children:C+1}),n.jsx("button",{onClick:()=>R(t=>(t+1)*10<e.length?t+1:t),disabled:(C+1)*10>=e.length,style:{background:"none",border:"none",color:(C+1)*10>=e.length?"var(--text-secondary)":"var(--primary-color)",cursor:(C+1)*10>=e.length?"default":"pointer"},children:"Next"})]})]}),n.jsx("div",{className:"flex flex-col gap-4",children:0===e.length?n.jsx("div",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"40px",border:"1px dashed var(--border-color)",borderRadius:"16px"},children:"No transactions yet."}):e.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(10*C,(C+1)*10).map(e=>(0,n.jsxs)("div",{className:"card group",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px",marginBottom:"0",position:"relative"},children:[(0,n.jsxs)("div",{style:{display:"flex",gap:"20px",alignItems:"center",flex:1},children:[n.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"14px",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:"Food"===e.category?"\uD83C\uDF54":"Transport"===e.category?"\uD83D\uDE97":"Shopping"===e.category?"\uD83D\uDECD️":"Bills"===e.category?"\uD83D\uDCC4":"\uD83D\uDCB8"}),b===e.id?(0,n.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"8px"},children:[n.jsx("input",{type:"text",value:w,onChange:e=>z(e.target.value),style:{border:"1px solid var(--border-color)",padding:"8px",borderRadius:"8px",width:"100%",background:"transparent",color:"white"}}),n.jsx("input",{type:"number",value:k,onChange:e=>S(e.target.value),style:{border:"1px solid var(--border-color)",padding:"8px",borderRadius:"8px",width:"100%",background:"transparent",color:"white"}})]}):(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:600,fontSize:"18px"},children:e.note}),(0,n.jsxs)("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginTop:"4px"},children:[new Date(e.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),"  • ",new Date(e.date).toLocaleDateString()]})]})]}),b===e.id?(0,n.jsxs)("div",{style:{display:"flex",gap:"12px",marginLeft:"12px"},children:[n.jsx("button",{onClick:F,style:{background:"none",border:"none",color:"var(--success-color)",cursor:"pointer"},children:n.jsx(B,{size:24})}),n.jsx("button",{onClick:()=>j(null),style:{background:"none",border:"none",color:"var(--danger-color)",cursor:"pointer"},children:n.jsx(M,{size:24})})]}):(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"24px"},children:[(0,n.jsxs)("div",{style:{fontWeight:700,fontSize:"20px"},children:["-₹",e.amount.toFixed(2)]}),(0,n.jsxs)("div",{className:"show-on-hover",style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>T(e),style:{background:"none",border:"none",color:"#888",cursor:"pointer",padding:"8px"},children:n.jsx(W,{size:24})}),n.jsx("button",{onClick:()=>{confirm("Delete expense?")&&a(e.id)},style:{background:"none",border:"none",color:"var(--danger-color)",cursor:"pointer",padding:"8px"},children:n.jsx(c,{size:24})})]})]})]},e.id))})]})},V=i("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),U=i("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),G=()=>{let{items:e,addItem:t,updateStock:r,shoppingList:a,deleteItem:s,editItem:i,addAiItems:l,clearShoppingList:d,clearPantry:p}=S(),[x,u]=(0,o.useState)(""),[g,h]=(0,o.useState)("inventory"),[y,f]=(0,o.useState)(null),[m,b]=(0,o.useState)(""),[v,j]=(0,o.useState)(""),[k,w]=(0,o.useState)([]),[z,C]=(0,o.useState)(null),[I,T]=(0,o.useState)(!1),[F,N]=(0,o.useState)(null),L=e=>{f(e.id),b(e.name)},A=()=>{y&&m.trim()&&(i(y,{name:m}),f(null),b(""))},E=e=>{switch(e){case"High":return"var(--success-color)";case"Medium":return"#FF9500";case"Low":return"#FF3B30";case"Out":return"#8E8E93";default:return"var(--text-color)"}},P=(e,t)=>{let r=encodeURIComponent(t),n="";"swiggy"===e?n=`https://www.swiggy.com/instamart/search?custom_back=true&query=${r}`:"blinkit"===e?n=`https://blinkit.com/s/?q=${r}`:"zepto"===e&&(n=`https://zeptonow.com/search?query=${r}`),window.open(n,"_blank")},_=async t=>{if(t.preventDefault(),v.trim()){T(!0),T(!0),N(null),w([]);try{let t=await fetch("/api/groceries/plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:v,currentItems:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to generate plan")}let r=await t.json();w(r.recipes||[])}catch(e){N(e.message||"Something went wrong")}finally{T(!1)}}},q=e=>{l(e.ingredients)},$=e=>({padding:"10px 16px",borderRadius:"8px",border:"none",background:g===e?"var(--text-color)":"transparent",color:g===e?"var(--bg-color)":"var(--text-secondary)",fontWeight:600,cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px"});return(0,n.jsxs)("div",{style:{padding:"24px 24px",paddingBottom:"120px",height:"100%",overflowY:"auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[n.jsx("h1",{style:{fontSize:"32px"},children:"Pantry"}),(0,n.jsxs)("div",{style:{background:"var(--card-bg)",padding:"4px",borderRadius:"12px",display:"flex",border:"1px solid var(--border-color)",gap:"2px"},children:[n.jsx("button",{onClick:()=>h("inventory"),style:$("inventory"),children:"Items"}),(0,n.jsxs)("button",{onClick:()=>h("list"),style:$("list"),children:["To Buy",a.length>0&&n.jsx("span",{style:{background:"var(--danger-color)",color:"white",fontSize:"11px",padding:"2px 8px",borderRadius:"10px"},children:a.length})]}),(0,n.jsxs)("button",{onClick:()=>h("ai"),style:$("ai"),children:[n.jsx(H,{size:14})," AI Plan"]})]})]}),"inventory"===g&&(0,n.jsxs)(n.Fragment,{children:[n.jsx("form",{onSubmit:e=>{e.preventDefault(),x.trim()&&(t(x),u(""))},style:{marginBottom:"32px"},children:(0,n.jsxs)("div",{className:"card",style:{padding:"12px",borderRadius:"20px",display:"flex",alignItems:"center",borderColor:"var(--border-color)"},children:[n.jsx("input",{type:"text",value:x,onChange:e=>u(e.target.value),placeholder:"Add new item...",style:{flex:1,border:"none",background:"transparent",padding:"12px 16px",fontSize:"18px",outline:"none",color:"var(--text-color)"}}),n.jsx("button",{type:"submit",style:{width:"48px",height:"48px",borderRadius:"50%",background:"var(--text-color)",color:"var(--bg-color)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"8px",cursor:"pointer"},children:n.jsx(O,{size:24})})]})}),n.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"16px"},children:e.length>0&&(0,n.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to clear your entire pantry inventory? This cannot be undone.")&&p()},style:{background:"rgba(255, 59, 48, 0.1)",color:"#FF3B30",border:"1px solid #FF3B30",padding:"8px 16px",borderRadius:"8px",fontSize:"13px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(c,{size:14})," Clear Inventory"]})}),n.jsx("div",{className:"flex flex-col gap-4",children:e.map(e=>n.jsx("div",{className:"card group",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"24px",position:"relative",overflow:"visible"},children:y===e.id?(0,n.jsxs)("div",{style:{flex:1,display:"flex",gap:"16px",alignItems:"center"},children:[n.jsx("input",{value:m,onChange:e=>b(e.target.value),autoFocus:!0,style:{background:"transparent",border:"1px solid var(--primary-color)",padding:"8px 12px",borderRadius:"8px",color:"white",width:"100%",fontSize:"18px"}}),n.jsx("button",{onClick:A,style:{background:"none",border:"none",color:"var(--success-color)",cursor:"pointer",padding:"8px"},children:n.jsx(B,{size:24})}),n.jsx("button",{onClick:()=>f(null),style:{background:"none",border:"none",color:"var(--danger-color)",cursor:"pointer",padding:"8px"},children:n.jsx(M,{size:24})})]}):(0,n.jsxs)(n.Fragment,{children:[n.jsx("div",{style:{fontWeight:600,fontSize:"18px",color:"var(--text-color)"},children:e.name}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"24px",marginLeft:"auto"},children:[n.jsx("div",{style:{display:"flex",gap:"8px"},children:["High","Medium","Low","Out"].map(t=>n.jsx("button",{onClick:()=>r(e.id,t),style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid",borderColor:e.stockLevel===t?E(t):"#333",background:e.stockLevel===t?E(t):"transparent",color:e.stockLevel===t?"High"===t?"black":"white":"var(--text-secondary)",fontSize:"12px",fontWeight:600,cursor:"pointer",transition:"all 0.2s",minWidth:"50px"},children:t},t))}),(0,n.jsxs)("div",{className:"show-on-hover",style:{display:"flex",gap:"4px"},children:[n.jsx("button",{onClick:()=>L(e),style:{background:"none",border:"none",color:"#888",cursor:"pointer",padding:"8px"},title:"Edit",children:n.jsx(W,{size:24})}),n.jsx("button",{onClick:()=>{confirm("Delete item?")&&s(e.id)},style:{background:"none",border:"none",color:"var(--danger-color)",cursor:"pointer",padding:"8px"},title:"Delete",children:n.jsx(c,{size:24})})]})]})]})},e.id))})]}),"list"===g&&n.jsx("div",{className:"flex flex-col gap-4",children:0===a.length?n.jsx("div",{style:{textAlign:"center",color:"var(--text-secondary)",marginTop:"40px",padding:"40px",border:"1px dashed var(--border-color)",borderRadius:"20px"},children:"Everything is stocked up!"}):(0,n.jsxs)(n.Fragment,{children:[n.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"8px"},children:(0,n.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to clear all items from the shopping list? This cannot be undone.")&&d()},style:{background:"rgba(255, 59, 48, 0.1)",color:"#FF3B30",border:"1px solid #FF3B30",padding:"8px 16px",borderRadius:"8px",fontSize:"13px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(c,{size:14})," Clear All"]})}),a.map(e=>(0,n.jsxs)("div",{className:"card",style:{padding:"24px",borderLeft:"4px solid var(--danger-color)"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:600,fontSize:"18px"},children:e.name}),(0,n.jsxs)("div",{style:{fontSize:"14px",color:"var(--danger-color)",display:"flex",alignItems:"center",gap:"6px",marginTop:"4px"},children:[n.jsx(R,{size:16})," Stock is ",e.stockLevel]})]}),n.jsx("button",{onClick:()=>r(e.id,"High"),style:{background:"var(--text-color)",color:"var(--bg-color)",border:"none",padding:"12px 24px",borderRadius:"12px",fontWeight:600,cursor:"pointer",fontSize:"14px"},children:"Restocked"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,n.jsxs)("button",{onClick:()=>P("swiggy",e.name),style:{flex:1,padding:"12px",borderRadius:"12px",border:"1px solid #FC8019",background:"rgba(252, 128, 25, 0.1)",color:"#FC8019",fontWeight:700,fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:["Swiggy ",n.jsx(V,{size:16})]}),(0,n.jsxs)("button",{onClick:()=>P("blinkit",e.name),style:{flex:1,padding:"12px",borderRadius:"12px",border:"1px solid #F8CB46",background:"rgba(248, 203, 70, 0.1)",color:"#D4A000",fontWeight:700,fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:["Blinkit ",n.jsx(V,{size:16})]}),(0,n.jsxs)("button",{onClick:()=>P("zepto",e.name),style:{flex:1,padding:"12px",borderRadius:"12px",border:"1px solid #3700b3",background:"rgba(55, 0, 179, 0.1)",color:"#3700b3",fontWeight:700,fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:["Zepto ",n.jsx(V,{size:16})]})]})]},e.id))]})}),"ai"===g&&(0,n.jsxs)("div",{children:[n.jsx("form",{onSubmit:_,style:{marginBottom:"24px"},children:(0,n.jsxs)("div",{className:"card",style:{padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[n.jsx(H,{size:20,color:"var(--primary-color)"}),n.jsx("span",{style:{fontWeight:600,fontSize:"16px"},children:"AI Grocery Planner"})]}),n.jsx("textarea",{value:v,onChange:e=>j(e.target.value),placeholder:"e.g., Plan my meals for 3 days, or suggest snacks for a movie night...",rows:3,style:{border:"1px solid var(--border-color)",borderRadius:"12px",padding:"16px",width:"100%",outline:"none",fontSize:"16px",background:"rgba(255,255,255,0.03)",color:"var(--text-color)",resize:"none",fontFamily:"var(--font-family)"}}),(0,n.jsxs)("button",{type:"submit",disabled:I||!v.trim(),style:{background:"var(--primary-color)",color:"#000",border:"none",borderRadius:"16px",padding:"16px",fontWeight:700,cursor:I?"not-allowed":"pointer",width:"100%",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:I||!v.trim()?.7:1},children:[I?n.jsx(D,{size:20,style:{animation:"spin 1s linear infinite"}}):n.jsx(H,{size:20}),I?"Generating...":"Generate Plan"]})]})}),F&&n.jsx("div",{style:{padding:"12px 16px",borderRadius:"12px",background:"rgba(255, 69, 58, 0.1)",border:"1px solid var(--danger-color)",color:"var(--danger-color)",fontSize:"14px",marginBottom:"16px"},children:F}),k.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,n.jsxs)("h3",{style:{fontSize:"14px",textTransform:"uppercase",letterSpacing:"1px",color:"var(--text-secondary)"},children:["Found ",k.length," Recipes"]}),(0,n.jsxs)("button",{onClick:()=>{l(k.flatMap(e=>e.ingredients)),w([]),j(""),h("inventory")},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"100px",border:"1px solid var(--primary-color)",background:"rgba(0, 229, 153, 0.1)",color:"var(--primary-color)",fontWeight:600,fontSize:"14px",cursor:"pointer"},children:[n.jsx(U,{size:16})," Add All Ingredients"]})]}),n.jsx("div",{className:"flex flex-col gap-4",children:k.map((e,t)=>(0,n.jsxs)("div",{className:"card",onClick:()=>C(e),style:{padding:"24px",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:e=>e.currentTarget.style.transform="translateY(-2px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"16px"},children:[(0,n.jsxs)("div",{children:[n.jsx("h4",{style:{fontSize:"18px",fontWeight:700,marginBottom:"4px"},children:e.name}),n.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:e.description})]}),n.jsx("button",{onClick:t=>{t.stopPropagation(),q(e)},style:{padding:"8px 16px",borderRadius:"8px",background:"var(--text-color)",color:"var(--bg-color)",border:"none",fontWeight:600,fontSize:"13px",cursor:"pointer",whiteSpace:"nowrap"},children:"+ Add Ingredients"})]}),(0,n.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[e.ingredients.slice(0,5).map((e,t)=>(0,n.jsxs)("div",{style:{background:"rgba(255,255,255,0.05)",padding:"6px 12px",borderRadius:"8px",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("span",{children:e.name}),e.isEssential&&n.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--primary-color)"}})]},t)),e.ingredients.length>5&&(0,n.jsxs)("div",{style:{fontSize:"12px",color:"var(--text-secondary)",alignSelf:"center"},children:["+",e.ingredients.length-5," more"]})]})]},t))})]}),!I&&0===k.length&&!F&&(0,n.jsxs)("div",{style:{textAlign:"center",color:"var(--text-secondary)",marginTop:"40px",padding:"40px"},children:[n.jsx(H,{size:40,style:{opacity:.3,marginBottom:"16px"}}),n.jsx("div",{style:{fontSize:"16px",fontWeight:500},children:"Tell the AI what you're planning and it'll generate a grocery list for you."})]})]}),z&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",backdropFilter:"blur(5px)"},onClick:()=>C(null),children:(0,n.jsxs)("div",{style:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"24px",width:"100%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 20px 50px rgba(0,0,0,0.5)"},onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"start"},children:[(0,n.jsxs)("div",{children:[n.jsx("h2",{style:{fontSize:"24px",fontWeight:700,marginBottom:"8px"},children:z.name}),n.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:z.description}),z.source&&(0,n.jsxs)("div",{style:{marginTop:"8px",fontSize:"12px",color:"var(--primary-color)",fontWeight:600,display:"flex",alignItems:"center",gap:"4px"},children:["Source: ",z.source,z.sourceUrl&&(0,n.jsxs)("a",{href:z.sourceUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--primary-color)",textDecoration:"underline",marginLeft:"4px",cursor:"pointer"},onClick:e=>e.stopPropagation(),children:[n.jsx(V,{size:12,style:{display:"inline",marginBottom:"-2px"}})," View"]})]})]}),n.jsx("button",{onClick:()=>C(null),style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer"},children:n.jsx(M,{size:24})})]}),(0,n.jsxs)("div",{style:{padding:"24px",overflowY:"auto"},children:[(0,n.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,n.jsxs)("h3",{style:{fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(U,{size:18})," Ingredients"]}),n.jsx("button",{onClick:()=>{q(z),C(null)},style:{padding:"8px 16px",borderRadius:"100px",background:"var(--primary-color)",color:"black",border:"none",fontWeight:700,fontSize:"12px",cursor:"pointer"},children:"+ Add All to Pantry"})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:z.ingredients.map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"8px",fontSize:"14px"},children:[n.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:e.isEssential?"var(--primary-color)":"var(--text-secondary)"}}),e.name]},t))})]}),z.instructions&&z.instructions.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx(H,{size:18})," Instructions"]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:z.instructions.map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[n.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(255,255,255,0.1)",color:"var(--text-secondary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:700,flexShrink:0},children:t+1}),n.jsx("p",{style:{fontSize:"15px",lineHeight:"1.5",color:"var(--text-color)"},children:e})]},t))})]})]})]})})]})},X=i("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Z=()=>{let{habits:e,addHabit:t,toggleHabit:r,updateHabit:a,deleteHabit:s,deleteAllHabits:i}=C(),[l,d]=(0,o.useState)(""),[p,x]=(0,o.useState)(null),[u,g]=(0,o.useState)(""),h=e=>{x(e.id),g(e.name)},y=()=>{p&&u.trim()&&(a(p,{name:u}),x(null),g(""))},f=e=>{let t=new Date().toDateString();return e.some(e=>new Date(e).toDateString()===t)};return(0,n.jsxs)("div",{style:{padding:"24px 24px",paddingBottom:"120px",height:"100%",overflowY:"auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{style:{fontSize:"32px",marginBottom:"8px"},children:"Habits"}),n.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"32px"},children:"Build your discipline."})]}),e.length>0&&(0,n.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to delete ALL habits? This will remove all streaks and history. This cannot be undone.")&&i()},style:{background:"rgba(255, 59, 48, 0.1)",color:"#FF3B30",border:"1px solid #FF3B30",padding:"8px 16px",borderRadius:"8px",fontSize:"13px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(c,{size:14})," Clear All"]})]}),n.jsx("form",{onSubmit:e=>{e.preventDefault(),l.trim()&&(t(l),d(""))},style:{marginBottom:"40px"},children:(0,n.jsxs)("div",{className:"card",style:{padding:"8px",borderRadius:"20px",display:"flex",alignItems:"center",border:"1px solid var(--border-color)"},children:[n.jsx("input",{type:"text",value:l,onChange:e=>d(e.target.value),placeholder:"New habit...",style:{flex:1,border:"none",background:"transparent",padding:"12px 16px",fontSize:"18px",outline:"none",color:"var(--text-color)"}}),n.jsx("button",{type:"submit",style:{width:"48px",height:"48px",borderRadius:"50%",background:"var(--text-color)",color:"var(--bg-color)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"8px",cursor:"pointer"},children:n.jsx(O,{size:24})})]})}),(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[e.map(e=>{let t=f(e.completedDates);return(0,n.jsxs)("div",{className:"card group",onClick:()=>!p&&r(e.id),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"24px",cursor:"pointer",border:t?"1px solid var(--success-color)":"1px solid var(--border-color)",background:t?"rgba(0, 229, 153, 0.05)":"var(--card-bg)",transition:"all 0.2s",position:"relative"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"24px",flex:1},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",border:t?"none":"2px solid #333",background:t?"var(--success-color)":"transparent",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},children:t&&n.jsx(T,{size:18,color:"black",strokeWidth:3})}),n.jsx("div",{style:{flex:1},children:p===e.id?n.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},onClick:e=>e.stopPropagation(),children:n.jsx("input",{value:u,onChange:e=>g(e.target.value),autoFocus:!0,style:{background:"transparent",border:"1px solid var(--primary-color)",padding:"8px 12px",borderRadius:"8px",color:"white",width:"100%",fontSize:"20px"}})}):(0,n.jsxs)(n.Fragment,{children:[n.jsx("div",{style:{fontWeight:600,fontSize:"20px",marginBottom:"4px"},children:e.name}),(0,n.jsxs)("div",{style:{fontSize:"14px",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx(X,{size:16,color:e.streak>0?"#FF9500":"#444"}),(0,n.jsxs)("span",{style:{color:e.streak>0?"#FF9500":"var(--text-secondary)"},children:[e.streak," day streak"]})]})]})})]}),n.jsx("div",{className:"show-on-hover",style:{display:"flex",gap:"8px",marginLeft:"auto"},onClick:e=>e.stopPropagation(),children:p===e.id?(0,n.jsxs)(n.Fragment,{children:[n.jsx("button",{onClick:y,style:{background:"none",border:"none",color:"var(--success-color)",cursor:"pointer",padding:"8px"},children:n.jsx(B,{size:24})}),n.jsx("button",{onClick:()=>x(null),style:{background:"none",border:"none",color:"var(--danger-color)",cursor:"pointer",padding:"8px"},children:n.jsx(M,{size:24})})]}):(0,n.jsxs)(n.Fragment,{children:[n.jsx("button",{onClick:()=>h(e),style:{background:"none",border:"none",color:"#888",cursor:"pointer",padding:"8px"},title:"Edit",children:n.jsx(W,{size:24})}),n.jsx("button",{onClick:()=>{confirm("Delete habit?")&&s(e.id)},style:{background:"none",border:"none",color:"#888",cursor:"pointer",padding:"8px"},title:"Delete",children:n.jsx(c,{size:24})})]})})]},e.id)}),0===e.length&&n.jsx("div",{style:{textAlign:"center",color:"var(--text-secondary)",marginTop:"40px"},children:"No habits yet. Start small."})]})]})};var J=r(7626),K=r.n(J);let Q=(0,o.createContext)(void 0),ee=({children:e})=>{let[t,r]=(0,o.useState)([{role:"assistant",content:"Hi! I'm your Life OS Assistant. How can I help you today?"}]),[a,s]=(0,o.useState)(!1),[i,l]=(0,o.useState)(!1),{addTask:d,clearTasksByDate:c}=f(),{addHabit:p}=C(),{addItem:x,clearPantry:u}=S(),{addExpense:g}=v(),h=async e=>{let n={role:"user",content:e};r(e=>[...e,n]),s(!0);try{let n=await fetch("/api/assistant/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,history:t.slice(-5)})});if(!n.ok)throw Error("Failed to fetch response");let o=await n.json(),a=o.message;for(let e of o.requests||(o.tool?[{tool:o.tool,args:o.args}]:[]))switch(console.log("Executing Tool:",e.tool,e.args),e.tool){case"addTask":d(e.args.title,e.args.date,e.args.time);break;case"addHabit":p(e.args.name);break;case"addGrocery":x(e.args.name,e.args.category||"Other");break;case"logExpense":g({amount:e.args.amount,category:e.args.category,note:e.args.description,date:new Date().toISOString()});break;case"clearPantry":u();break;case"clearTasks":e.args?.date&&c(e.args.date);break;default:console.warn("Unknown tool:",e.tool)}let s={role:"assistant",content:a};r(e=>[...e,s])}catch(e){console.error("Assistant Error:",e),r(e=>[...e,{role:"assistant",content:"Sorry, I encountered an error processing your request."}])}finally{s(!1)}};return n.jsx(Q.Provider,{value:{messages:t,sendMessage:h,isTyping:a,isOpen:i,setIsOpen:l},children:e})},et=()=>{let e=(0,o.useContext)(Q);if(!e)throw Error("useAssistant must be used within an AssistantProvider");return e},er=i("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),en=i("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),eo=i("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),ea=i("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]),es=i("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),ei=i("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),el=i("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ed=i("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),ec=()=>{let{messages:e,sendMessage:t,isTyping:r}=et(),[a,s]=(0,o.useState)(""),[i,l]=(0,o.useState)(!1),d=(0,o.useRef)(null),c=()=>{d.current?.scrollIntoView({behavior:"smooth"})};(0,o.useEffect)(()=>{c()},[e,r]);let p=()=>{a.trim()&&(t(a),s(""))},x=[{icon:n.jsx(er,{size:16}),label:"Gift Ideas",prompt:"I need gift ideas for..."},{icon:n.jsx(en,{size:16}),label:"Weekend plan",prompt:"Plan a weekend itinerary for..."},{icon:n.jsx(eo,{size:16}),label:"Tell me a joke",prompt:"Tell me a funny joke"},{icon:n.jsx(ea,{size:16}),label:"Workout ideas",prompt:"Give me a 30 min workout routine"},{icon:n.jsx(es,{size:16}),label:"Read a story",prompt:"Tell me a short bedtime story"},{icon:n.jsx(H,{size:16}),label:"Surprise me",prompt:"Tell me an interesting fun fact"}];return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",position:"relative",background:"#0a0a0a",color:"#fff",overflow:"hidden"},children:[n.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",background:"radial-gradient(circle at center, rgba(0, 229, 153, 0.15) 0%, transparent 70%)",animation:"pulse-bg 4s ease-in-out infinite",pointerEvents:"none",zIndex:0}}),n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:'url("/noise.png") opacity(0.05)',zIndex:0}}),(0,n.jsxs)("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",height:"100%"},className:"jsx-a11084371a13546e",children:[n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"24px",display:"flex",flexDirection:"column",justifyContent:e.length<=1?"center":"flex-start",paddingBottom:"140px"},className:"jsx-a11084371a13546e",children:e.length<=1?(0,n.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px",animation:"fadeIn 0.5s ease-out"},className:"jsx-a11084371a13546e",children:[n.jsx("div",{style:{fontSize:"16px",color:"#888",marginBottom:"8px"},className:"jsx-a11084371a13546e",children:"Hey User \uD83D\uDC4B"}),n.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",background:"linear-gradient(90deg, #fff, #aaa)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},className:"jsx-a11084371a13546e",children:"What's on your mind?"})]}):(0,n.jsxs)("div",{className:"jsx-a11084371a13546e flex flex-col gap-6",children:[e.slice(1).map((e,t)=>n.jsx("div",{style:{alignSelf:"user"===e.role?"flex-end":"flex-start",maxWidth:"85%",padding:"12px 16px",borderRadius:"20px",borderTopRightRadius:"user"===e.role?"4px":"20px",borderTopLeftRadius:"assistant"===e.role?"4px":"20px",background:"user"===e.role?"var(--primary-color)":"rgba(255,255,255,0.1)",color:"user"===e.role?"#000":"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",fontSize:"15px",lineHeight:"1.5"},className:"jsx-a11084371a13546e",children:e.content},t)),r&&n.jsx("div",{style:{alignSelf:"flex-start",padding:"12px 16px",borderRadius:"20px",background:"rgba(255,255,255,0.1)"},className:"jsx-a11084371a13546e",children:(0,n.jsxs)("div",{style:{display:"flex",gap:"4px"},className:"jsx-a11084371a13546e",children:[n.jsx("span",{style:{width:"6px",height:"6px",background:"#fff",borderRadius:"50%",animation:"bounce 1.4s infinite ease-in-out both"},className:"jsx-a11084371a13546e"}),n.jsx("span",{style:{width:"6px",height:"6px",background:"#fff",borderRadius:"50%",animation:"bounce 1.4s infinite ease-in-out both 0.16s"},className:"jsx-a11084371a13546e"}),n.jsx("span",{style:{width:"6px",height:"6px",background:"#fff",borderRadius:"50%",animation:"bounce 1.4s infinite ease-in-out both 0.32s"},className:"jsx-a11084371a13546e"})]})}),n.jsx("div",{ref:d,className:"jsx-a11084371a13546e"})]})}),(0,n.jsxs)("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"16px 110px 16px 16px",background:"linear-gradient(0deg, #0a0a0a 80%, transparent 100%)",zIndex:10},className:"jsx-a11084371a13546e",children:[e.length<=1&&n.jsx("div",{style:{display:"flex",gap:"8px",overflowX:"auto",paddingBottom:"16px",marginBottom:"8px",scrollbarWidth:"none",msOverflowStyle:"none"},className:"jsx-a11084371a13546e",children:x.map((e,r)=>(0,n.jsxs)("button",{onClick:()=>t(e.prompt),style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.1)",padding:"8px 16px",borderRadius:"100px",color:"#fff",fontSize:"13px",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",transition:"all 0.2s"},className:"jsx-a11084371a13546e",children:[e.icon," ",e.label]},r))}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",padding:"8px 8px 8px 16px",borderRadius:"32px",border:"1px solid rgba(255,255,255,0.1)"},className:"jsx-a11084371a13546e",children:[n.jsx(ei,{size:20,color:"#888",style:{cursor:"pointer"}}),n.jsx("input",{type:"text",value:a,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),p())},placeholder:"Ask me anything...",style:{flex:1,background:"transparent",border:"none",color:"#fff",fontSize:"16px",outline:"none",padding:"8px 0"},className:"jsx-a11084371a13546e"}),a.trim()?n.jsx("button",{onClick:p,style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--primary-color)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#000"},className:"jsx-a11084371a13546e",children:n.jsx(el,{size:18})}):(0,n.jsxs)("button",{onClick:()=>l(!i),style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #6e45e2 0%, #88d3ce 100%)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"relative"},className:"jsx-a11084371a13546e",children:[n.jsx("div",{style:{position:"absolute",width:"100%",height:"100%",borderRadius:"50%",background:"inherit",animation:"ping 2s cubic-bezier(0, 0, 0.2, 1) infinite",opacity:.5,zIndex:-1},className:"jsx-a11084371a13546e"}),n.jsx(ed,{size:20,color:"#fff"})]})]})]}),n.jsx(K(),{id:"a11084371a13546e",children:"@-webkit-keyframes bounce{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}@-moz-keyframes bounce{0%,100%{-moz-transform:scale(0);transform:scale(0)}50%{-moz-transform:scale(1);transform:scale(1)}}@-o-keyframes bounce{0%,100%{-o-transform:scale(0);transform:scale(0)}50%{-o-transform:scale(1);transform:scale(1)}}@keyframes bounce{0%,100%{-webkit-transform:scale(0);-moz-transform:scale(0);-o-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-webkit-keyframes ping{75%,100%{-webkit-transform:scale(2);transform:scale(2);opacity:0}}@-moz-keyframes ping{75%,100%{-moz-transform:scale(2);transform:scale(2);opacity:0}}@-o-keyframes ping{75%,100%{-o-transform:scale(2);transform:scale(2);opacity:0}}@keyframes ping{75%,100%{-webkit-transform:scale(2);-moz-transform:scale(2);-o-transform:scale(2);transform:scale(2);opacity:0}}@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);-moz-transform:translatey(10px);-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}@-webkit-keyframes pulse-bg{0%{-webkit-transform:translate(-50%,-50%)scale(.95);transform:translate(-50%,-50%)scale(.95);opacity:.5}50%{-webkit-transform:translate(-50%,-50%)scale(1.1);transform:translate(-50%,-50%)scale(1.1);opacity:.8}100%{-webkit-transform:translate(-50%,-50%)scale(.95);transform:translate(-50%,-50%)scale(.95);opacity:.5}}@-moz-keyframes pulse-bg{0%{-moz-transform:translate(-50%,-50%)scale(.95);transform:translate(-50%,-50%)scale(.95);opacity:.5}50%{-moz-transform:translate(-50%,-50%)scale(1.1);transform:translate(-50%,-50%)scale(1.1);opacity:.8}100%{-moz-transform:translate(-50%,-50%)scale(.95);transform:translate(-50%,-50%)scale(.95);opacity:.5}}@-o-keyframes pulse-bg{0%{-o-transform:translate(-50%,-50%)scale(.95);transform:translate(-50%,-50%)scale(.95);opacity:.5}50%{-o-transform:translate(-50%,-50%)scale(1.1);transform:translate(-50%,-50%)scale(1.1);opacity:.8}100%{-o-transform:translate(-50%,-50%)scale(.95);transform:translate(-50%,-50%)scale(.95);opacity:.5}}@keyframes pulse-bg{0%{-webkit-transform:translate(-50%,-50%)scale(.95);-moz-transform:translate(-50%,-50%)scale(.95);-o-transform:translate(-50%,-50%)scale(.95);transform:translate(-50%,-50%)scale(.95);opacity:.5}50%{-webkit-transform:translate(-50%,-50%)scale(1.1);-moz-transform:translate(-50%,-50%)scale(1.1);-o-transform:translate(-50%,-50%)scale(1.1);transform:translate(-50%,-50%)scale(1.1);opacity:.8}100%{-webkit-transform:translate(-50%,-50%)scale(.95);-moz-transform:translate(-50%,-50%)scale(.95);-o-transform:translate(-50%,-50%)scale(.95);transform:translate(-50%,-50%)scale(.95);opacity:.5}}"})]})]})},ep=(e,t,r,n)=>{let o=[],a=e.filter(e=>"pending"===e.status);a.length>5&&o.push({id:"task-overload",type:"warning",message:`You have ${a.length} tasks pending. Consider rescheduling the non-urgent ones.`,actionLabel:"Review Tasks",actionLink:"tasks"}),t>100&&o.push({id:"high-spending",type:"warning",message:`Daily spending is $${t.toFixed(0)}. You're burning cash fast today.`,actionLabel:"Check Wallet",actionLink:"expenses"});let s=r.filter(e=>e.streak>=3);s.length>0?o.push({id:"habit-momentum",type:"success",message:`You're on fire! ${s.length} habits have streaks of 3+ days. Keep it up!`,actionLabel:"View Habits",actionLink:"habits"}):r.length>0&&r.every(e=>0===e.streak)&&o.push({id:"habit-start",type:"tip",message:"A fresh start. Complete one small habit today to build momentum.",actionLabel:"Do it",actionLink:"habits"});let i=n.filter(e=>"Out"===e.stockLevel);return i.length>0&&o.push({id:"grocery-out",type:"warning",message:`You are completely out of ${i[0].name}${i.length>1?` and ${i.length-1} others`:""}.`,actionLabel:"Restock",actionLink:"grocery"}),o},ex=i("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),eu=i("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),eg=i("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),eh=({onNavigate:e})=>{let{tasks:t}=f(),{getDailyTotal:r}=v(),{habits:a}=C(),{shoppingList:s}=S(),i=new Date().setHours(0,0,0,0),l=t.filter(e=>new Date(e.createdAt).setHours(0,0,0,0)===i),c=l.filter(e=>"completed"===e.status).length,p=l.length,x=0===p?0:c/p*100,u=(0,o.useMemo)(()=>ep(t,r(),a,s),[t,r,a,s]);return(0,n.jsxs)("div",{style:{padding:"24px 24px",paddingBottom:"120px",height:"100%",overflowY:"auto"},children:[n.jsx(E,{}),u.length>0&&(0,n.jsxs)("div",{style:{marginBottom:"40px"},children:[n.jsx("h2",{style:{fontSize:"14px",textTransform:"uppercase",letterSpacing:"1px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Insights"}),n.jsx("div",{className:"flex flex-col gap-4",children:u.map(e=>(0,n.jsxs)("div",{className:"card",style:{padding:"20px",display:"flex",gap:"16px",alignItems:"start",borderColor:"var(--border-color)"},children:[n.jsx(ex,{size:20,color:"var(--primary-color)"}),n.jsx("div",{children:n.jsx("div",{style:{fontSize:"15px",lineHeight:"1.5",color:"#eee"},children:e.message})})]},e.id))})]}),n.jsx("h1",{style:{fontSize:"32px",marginBottom:"40px"},children:"Overview"}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"40px"},children:[(0,n.jsxs)("div",{className:"card card-highlight",onClick:()=>e("tasks"),style:{cursor:"pointer",position:"relative",overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("div",{style:{padding:"10px",background:"rgba(0, 229, 153, 0.1)",borderRadius:"10px"},children:n.jsx(eu,{size:24,color:"var(--primary-color)"})}),n.jsx("span",{style:{fontWeight:600,fontSize:"20px"},children:"Execution"})]}),n.jsx(d,{size:24,color:"var(--text-secondary)"})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"baseline",gap:"10px",marginBottom:"24px"},children:[(0,n.jsxs)("div",{style:{fontSize:"56px",fontWeight:"bold",lineHeight:1},children:[Math.round(x),"%"]}),n.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"16px"},children:"completed"})]}),n.jsx("div",{style:{height:"6px",background:"#222",borderRadius:"3px",overflow:"hidden"},children:n.jsx("div",{style:{height:"100%",width:`${x}%`,background:"var(--primary-color)",borderRadius:"3px",boxShadow:"0 0 12px var(--primary-color)"}})})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,n.jsxs)("div",{className:"card card-highlight",onClick:()=>e("expenses"),style:{cursor:"pointer",display:"flex",flexDirection:"column",height:"100%"},children:[n.jsx("div",{style:{color:"var(--primary-color)",marginBottom:"auto"},children:n.jsx($,{size:28})}),(0,n.jsxs)("div",{style:{marginTop:"24px"},children:[(0,n.jsxs)("div",{style:{fontSize:"28px",fontWeight:"bold",marginBottom:"4px"},children:["₹",r().toFixed(2)]}),n.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"Spent today"})]})]}),(0,n.jsxs)("div",{className:"card card-highlight",onClick:()=>e("habits"),style:{cursor:"pointer",display:"flex",flexDirection:"column",height:"100%"},children:[n.jsx("div",{style:{color:"var(--primary-color)",marginBottom:"auto"},children:n.jsx(X,{size:28})}),(0,n.jsxs)("div",{style:{marginTop:"24px"},children:[n.jsx("div",{style:{fontSize:"28px",fontWeight:"bold",marginBottom:"4px"},children:a.filter(e=>e.streak>0).length}),n.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"Active streaks"})]})]})]}),s.length>0&&(0,n.jsxs)("div",{className:"card",onClick:()=>e("grocery"),style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"24px",borderColor:"var(--danger-color)",background:"rgba(255, 69, 58, 0.05)"},children:[n.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 69, 58, 0.1)",color:"var(--danger-color)",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(eg,{size:28})}),(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:600,color:"var(--danger-color)",fontSize:"18px"},children:"Restock Needed"}),(0,n.jsxs)("div",{style:{fontSize:"15px",color:"var(--text-secondary)",marginTop:"4px"},children:[s.length," items are low"]})]})]})]})]})},ey=i("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ef=i("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),em=i("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),eb=i("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ev=[{key:"chat",icon:n.jsx(ey,{size:20}),label:"Chat"},{key:"dashboard",icon:n.jsx(ef,{size:20}),label:"Home"},{key:"tasks",icon:n.jsx(em,{size:20}),label:"Tasks"},{key:"habits",icon:n.jsx(X,{size:20}),label:"Habits"},{key:"expenses",icon:n.jsx(eb,{size:20}),label:"Wallet"},{key:"grocery",icon:n.jsx(U,{size:20}),label:"Shop"}],ej=({currentView:e,setView:t,variant:r="horizontal"})=>{let a=(0,o.useRef)(null),[s,i]=(0,o.useState)({});(0,o.useEffect)(()=>{if(!a.current)return;let t=ev.findIndex(t=>t.key===e),n=a.current.querySelectorAll("[data-nav-btn]")[t];n&&("horizontal"===r?i({width:n.offsetWidth,height:"calc(100% - 12px)",transform:`translateX(${n.offsetLeft-6}px)`,top:"6px",left:"6px"}):i({width:"calc(100% - 12px)",height:n.offsetHeight,transform:`translateY(${n.offsetTop-6}px)`,left:"6px",top:"6px"}))},[e,r]);let l="vertical"===r;return(0,n.jsxs)("div",{ref:a,className:"glass-panel",style:{position:"fixed",...l?{right:"24px",flexDirection:"column",transform:"none",left:"auto",bottom:"90px"}:{bottom:"24px",left:"50%",transform:"translateX(-50%)",flexDirection:"row"},zIndex:1e3,borderRadius:"32px",padding:"6px",display:"flex",gap:"4px",boxShadow:"0 20px 40px rgba(0,0,0,0.5)",maxWidth:l?"none":"90%",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(20, 20, 20, 0.8)",backdropFilter:"blur(12px)"},children:[n.jsx("div",{style:{position:"absolute",borderRadius:"100px",background:"var(--primary-color)",transition:"all 0.4s cubic-bezier(0.16, 1, 0.3, 1)",zIndex:0,...s}}),ev.map(r=>{let o=e===r.key;return(0,n.jsxs)("button",{"data-nav-btn":!0,onClick:()=>t(r.key),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"100px",border:"none",background:"transparent",color:o?"#000000":"var(--text-secondary)",cursor:"pointer",transition:"color 0.3s ease",fontWeight:o?700:500,justifyContent:l?"flex-start":"center",width:l?"100%":"auto",minWidth:!l&&o?"100px":"auto",position:"relative",zIndex:1,whiteSpace:"nowrap"},children:[r.icon,(o||l)&&n.jsx("span",{style:{fontSize:"14px"},children:r.label})]},r.key)})]})},ek=i("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),eS=()=>{let{setIsOpen:e,isOpen:t}=et();return t?null:n.jsx("button",{onClick:()=>e(!0),style:{position:"fixed",bottom:"100px",right:"24px",width:"56px",height:"56px",borderRadius:"28px",background:"linear-gradient(135deg, #00E599 0%, #00B377 100%)",boxShadow:"0 4px 20px rgba(0, 229, 153, 0.4)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"black",zIndex:1e3,cursor:"pointer",transition:"transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},className:"hover:scale-110 active:scale-95","aria-label":"Open Assistant",children:n.jsx(ek,{size:28,strokeWidth:2})})},ew=i("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),ez=({onInput:e,disabled:t})=>{let[r,a]=(0,o.useState)(!1),[s,i]=(0,o.useState)(!1),[l,d]=(0,o.useState)(null);return((0,o.useEffect)(()=>{},[e]),s)?n.jsx("button",{type:"button",onClick:()=>{s&&!t&&(r?l.stop():(l.start(),a(!0)))},disabled:t,style:{background:r?"#ff4d4d":"transparent",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:t?"not-allowed":"pointer",transition:"all 0.2s",color:r?"white":"var(--text-secondary)"},title:"Voice Input",children:r?n.jsx(ew,{size:20}):n.jsx(ed,{size:20})}):null},eC=()=>{let{isOpen:e,setIsOpen:t,messages:r,sendMessage:a,isTyping:s}=et(),[i,l]=(0,o.useState)(""),d=(0,o.useRef)(null);(0,o.useEffect)(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[r,s]);let c=async e=>{e?.preventDefault(),i.trim()&&(await a(i),l(""))};return e?n.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",zIndex:2e3,display:"flex",alignItems:"end",justifyContent:"center"},onClick:()=>t(!1),children:(0,n.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{width:"100%",maxWidth:"500px",height:"80vh",background:"var(--bg-color)",borderTopLeftRadius:"24px",borderTopRightRadius:"24px",display:"flex",flexDirection:"column",boxShadow:"0 -4px 20px rgba(0,0,0,0.2)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},children:[(0,n.jsxs)("div",{style:{padding:"20px",borderBottom:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#00E599",boxShadow:"0 0 10px #00E599"}}),n.jsx("h2",{style:{margin:0,fontSize:"18px"},children:"Assistant"})]}),n.jsx("button",{onClick:()=>t(!1),style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer"},children:n.jsx(M,{size:24})})]}),(0,n.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[r.map((e,t)=>n.jsx("div",{style:{alignSelf:"user"===e.role?"flex-end":"flex-start",maxWidth:"85%",padding:"12px 16px",borderRadius:"16px",borderBottomRightRadius:"user"===e.role?"4px":"16px",borderTopLeftRadius:"assistant"===e.role?"4px":"16px",background:"user"===e.role?"var(--primary-color)":"var(--card-bg)",color:"user"===e.role?"black":"var(--text-color)",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",fontSize:"15px",lineHeight:"1.5"},children:e.content},t)),s&&(0,n.jsxs)("div",{style:{alignSelf:"flex-start",background:"var(--card-bg)",padding:"12px 16px",borderRadius:"16px",borderTopLeftRadius:"4px",color:"var(--text-secondary)",fontSize:"14px",display:"flex",gap:"4px"},children:[n.jsx("span",{children:"•"}),n.jsx("span",{children:"•"}),n.jsx("span",{children:"•"})]}),n.jsx("div",{ref:d})]}),(0,n.jsxs)("form",{onSubmit:c,style:{padding:"16px 20px",paddingBottom:"max(20px, env(safe-area-inset-bottom))",borderTop:"1px solid var(--border-color)",display:"flex",gap:"12px",alignItems:"center",background:"var(--bg-color)"},children:[n.jsx(ez,{onInput:e=>l(e)}),n.jsx("input",{value:i,onChange:e=>l(e.target.value),placeholder:"Type or speak...",style:{flex:1,padding:"12px 16px",borderRadius:"24px",border:"1px solid var(--border-color)",background:"var(--card-bg)",color:"var(--text-color)",fontSize:"16px",outline:"none"}}),n.jsx("button",{type:"submit",disabled:!i.trim(),style:{width:"40px",height:"40px",borderRadius:"50%",background:i.trim()?"var(--primary-color)":"var(--border-color)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",color:i.trim()?"black":"var(--text-secondary)",cursor:i.trim()?"pointer":"default",transition:"all 0.2s"},children:n.jsx(el,{size:18})})]})]})}):null};function eD(){let[e,t]=(0,o.useState)("chat"),[r,a]=(0,o.useState)(()=>{let e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}),[s,i]=(0,o.useState)(0),[l,d]=(0,o.useState)(!1);return n.jsx(y,{children:n.jsx(b,{children:n.jsx(k,{children:n.jsx(z,{children:n.jsx(ee,{children:(0,n.jsxs)("div",{style:{height:"100dvh",width:"100vw",paddingTop:"env(safe-area-inset-top)",backgroundColor:"var(--bg-color)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[n.jsx("div",{style:{flex:1,overflow:"hidden",position:"relative"},children:(0,n.jsxs)("div",{className:"page-transition",style:{height:"100%",overflow:"auto"},children:["chat"===e&&n.jsx(ec,{}),"dashboard"===e&&n.jsx(eh,{onNavigate:t}),"tasks"===e&&(0,n.jsxs)(n.Fragment,{children:[n.jsx(_,{selectedDate:r,onSelectDate:a,weekOffset:s,onWeekChange:i}),n.jsx(q,{selectedDate:r})]}),"expenses"===e&&n.jsx(Y,{}),"grocery"===e&&n.jsx(G,{}),"habits"===e&&n.jsx(Z,{})]},e)}),("chat"!==e||l)&&n.jsx(ej,{currentView:e,setView:e=>{t(e),d(!1)},variant:"chat"===e?"vertical":"horizontal"}),"chat"!==e&&n.jsx(eS,{}),"chat"===e&&!l&&n.jsx("button",{onClick:()=>d(!0),style:{position:"fixed",bottom:"24px",right:"24px",width:"56px",height:"56px",borderRadius:"50%",background:"var(--primary-color)",border:"none",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,boxShadow:"0 8px 32px rgba(0,229,153,0.3)",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.05)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),n.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),n.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),n.jsx(eC,{})]})})})})})})}},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s,metadata:()=>o,viewport:()=>a});var n=r(9510);r(5023);let o={title:"Life OS",description:"Personal Life Operating System",appleWebApp:{capable:!0,statusBarStyle:"black-translucent",title:"Life OS"},formatDetection:{telephone:!1}},a={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,viewportFit:"cover",themeColor:"#000000"};function s({children:e}){return(0,n.jsxs)("html",{lang:"en",children:[n.jsx("head",{children:n.jsx("link",{rel:"apple-touch-icon",href:"/icon-192x192.png"})}),n.jsx("body",{children:e})]})}},5480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(8570).createProxy)(String.raw`C:\Users\kharw\OneDrive\Desktop\ai-assistant\src\app\page.tsx#default`)},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,471],()=>r(4059));module.exports=n})();